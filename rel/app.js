var pxSvgIconString=pxSvgIconString||"";pxSvgIconString+='<g id="face-cool" class="hourly-stats-svg-svg ">	<g>		<circle class="st0" cx="10.533" cy="10.534" r="10.533"/></g>	<path class="st1" d="M3.856,13.936c1.242,2.43,3.762,4.097,6.678,4.097s5.436-1.667,6.676-4.097"/><circle class="st2" cx="17.615" cy="7.438" r="1.273"/><circle class="st2" cx="3.417" cy="7.438" r="1.273"/></g><g id="face-warm" class="hourly-stats-svg-svg ">	<g>		<circle class="st3" cx="10.533" cy="10.534" r="10.533"/></g>	<line class="st1" x1="5.024" y1="15.286" x2="16.092" y2="15.286"/><circle class="st2" cx="17.615" cy="7.438" r="1.273"/><circle class="st2" cx="3.417" cy="7.438" r="1.273"/></g><g id="face-hot" class="hourly-stats-svg-svg ">	<g>		<circle class="st4" cx="10.533" cy="10.534" r="10.533"/></g>	<path class="st1" d="M3.856,16.032c1.242-2.43,3.762-4.097,6.678-4.097s5.436,1.667,6.676,4.097"/><circle class="st2" cx="17.615" cy="7.438" r="1.273"/><circle class="st2" cx="3.417" cy="7.438" r="1.273"/></g>';var pxSvgIconString=pxSvgIconString||"";pxSvgIconString+="",function t(e,r,s){function i(a,o){if(!r[a]){if(!e[a]){var c="function"==typeof require&&require;if(!o&&c)return c(a,!0);if(n)return n(a,!0);var u=new Error("Cannot find module '"+a+"'");throw u.code="MODULE_NOT_FOUND",u}var l=r[a]={exports:{}};e[a][0].call(l.exports,function(t){var r=e[a][1][t];return i(r?r:t)},l,l.exports,t,e,r,s)}return r[a].exports}for(var n="function"==typeof require&&require,a=0;a<s.length;a++)i(s[a]);return i}({1:[function(t,e,r){var s,i;i=t("misc/stats-utils"),e.exports=s=function(){function t(t){this.svg=d3.select(t).append("svg").attr({width:200,height:32,"class":"historicsvg small"})}return t.prototype.update=function(t){var e,r,s,n,a,o;r=[],n={};for(a in t)o=t[a],r.push({metric:a,val:o,index:i.getIndexOfMetric(a)}),n[a]=r.length-1;return s=this.svg.selectAll(".small").data(r,function(t){return t.metric}).enter().append("g").attr({transform:function(t,e){return"translate(0, "+9*t.index+")"}}),e=s.selectAll("rect").data(function(t){return t.val}),e.enter().append("rect").attr({width:5,height:5,x:function(t,e){return 8*e}}),e.attr({"class":function(t){return function(t,e,s){return i.getTemperature(t,r[s].metric)}}(this)})},t}()},{"misc/stats-utils":5}],2:[function(t,e,r){var s,i;i=t("misc/stats-utils"),e.exports=s=function(){function t(t){t.padding||(t.padding=3),t.totalHeight||(t.totalHeight=30),t.cssClass||(t.cssClass=""),this.width=t.barWidth,this.height=t.barHeight,this.padding=t.padding,this.svg=d3.select(t.holder).append("svg").attr({width:t.barWidth,height:t.totalHeight,"class":"livesvg "+t.cssClass})}return t.prototype.update=function(t){var e,r,s,n,a;n=this,e=[];for(s in t)a=t[s],null==a&&(a=-1),e.push({metric:s,val:a});return r=this.svg.selectAll("g").data(e),r.enter().append("g").attr({transform:function(t,e){return"translate(0,"+e*(n.height+n.padding)+")"}}).each(function(t,e){return this.trackWidth=n.width,this.trackHeight=n.height,d3.select(this).append("svg:rect").attr({width:this.trackWidth,height:this.trackHeight,"class":"bg"}),d3.select(this).append("svg:rect").attr({width:this.trackWidth,height:this.trackHeight,id:"colored"})}),r.each(function(t,e){var r,s,n;return s=i.getTemperature(t.val,t.metric),n=-1===t.val?0:t.val<.05?.05:t.val<1?t.val.toFixed(4):1,r=d3.select(this).select("#colored"),r.transition().duration(800).attr({width:this.trackWidth*n,"class":s})})},t}()},{"misc/stats-utils":5}],3:[function(t,e,r){var s,i,n,a;n=t("misc/stats-utils"),i=t("views/micro-view"),a=t("views/strip-view"),s=function(){function t(t,e){var r;this.$el=t,this.viewId=e,r=new pxicons.ShadowIcons}return t.prototype.setState=function(t){switch(t){case"micro":return this.component=new i(this.$el);case"strip":return this.component=new a(this.$el)}},t.prototype.initStats=function(t,e){return n.setTypes(t),n.setThresholds(e)},t.prototype.updateLiveStats=function(t){return this.component.updateLiveStats(t)},t.prototype.updateHistoricStat=function(t,e){return this.component.updateHistoricStats(t,e)},t.prototype.build=function(){return this.setState(this.viewId)},t.micro="micro",t.strip="strip",t}(),window.nanobox||(window.nanobox={}),nanobox.HourlyStats=s},{"misc/stats-utils":5,"views/micro-view":6,"views/strip-view":7}],4:[function(t,e,r){var s,i;i=t("jade/face"),e.exports=s=function(){function t(t,e){this.$el=t,this.scalable=e}return t.prototype.update=function(t){var e;if(this.temperature!==t)return this.temperature=t,this.$el.empty(),e=$(i({temperature:t,scalable:this.scalable})),this.$el.append(e),shadowIconsInstance.svgReplaceWithString(pxSvgIconString,e)},t}()},{"jade/face":9}],5:[function(t,e,r){var s,i=[].indexOf||function(t){for(var e=0,r=this.length;r>e;e++)if(e in this&&this[e]===t)return e;return-1};e.exports=s=function(){function t(){}return t.setThresholds=function(e){return null==e&&(e={}),t.thresholds=e},t.setTypes=function(e){return null==e&&(e=[]),t.statTypes=e},t.getIndexOfMetric=function(e){var r,s,i,n,a;for(n=t.statTypes,r=s=0,i=n.length;i>s;r=++s)if(a=n[r],e===a.id)return r;return-1},t.getTemperature=function(e,r){var s;if(null==t.thresholds)return"sleep";switch(s=null!=t.thresholds[r+"_thresholds"]?t.thresholds[r+"_thresholds"]:[.75,.9],!1){case!(0>e):return"sleep";case!(e<s[0]):return"cool";case!(e<s[1]):return"warm";default:return"hot"}},t.getOverallTemperature=function(t){var e,r,s,n,a,o,c,u;e=[];for(s in t)u=t[s],"swap"!==s&&(isNaN(u)||e.push(this.getTemperature(u,s)));if(!e.length)return null;for(a="sleep",o=["cool","warm","hot"],r=0,n=o.length;n>r;r++)c=o[r],i.call(e,c)>=0&&(a=c);return a},t.getTimeArray=function(t,e){var r,s,i,n;for(null==e&&(e=25),n=[],r=s=0,i=e;i>=0?i>s:s>i;r=i>=0?++s:--s)n.unshift(this.getTimeObject(t--)),-1===t&&(t=23);return n},t.getTimeObject=function(t){switch(!1){case 0!==t:return{hour:12,period:"am",military:t};case!(12>t):return{hour:t,period:"am",military:t};case 12!==t:return{hour:12,period:"pm",military:t};case!(t>12):return{hour:t-12,period:"pm",military:t}}},t.padNumber=function(t,e){var r;for(r=""+t;r.length<e;)r="0"+r;return r},t.getTimeStampsFromPercentage=function(t){var e,r,s;return t=1-t,s=this.getLastWholeHour(),r=s.setHours(s.getHours()-Math.round(144*t)),e=s.setHours(s.getHours()-24),[e,r]},t.get24hrRangeStartingLastHour=function(){return this.getTimeStampsFromPercentage(1)},t.getLastWholeHour=function(){var t;return t=new Date,t.setHours(t.getHours()-1),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t},t.getNextHour=function(t){var e;return e=t+1,e>12?e-12:e},t.normalizeHistoricalData=function(t,e){var r,s,i,n,a,o,c,u,l,d,h,p;for(u=new Date,u.setHours(u.getHours()-1),u.setMinutes(0),u.setSeconds(0),a=Math.round((u-new Date(e[0]))/36e5),n=Math.round((u-new Date(e[1]))/36e5),h=a,i=n,r=[],o=c=l=i,d=h;d>=c;o=c+=1)null!=t[o]&&(s=t[o],p=new Date(s.time).setMinutes(0),r[h-o]=s.value);return r},t.normalizeHourlyData=function(e){var r,s,i,n,a,o,c,u;for(r=[],s=i=0;24>i;s=++i)for(u=[0,15,30,45],n=0,o=u.length;o>n;n++)c=u[n],a=t.padNumber(s,2)+":"+t.padNumber(c,2),r.push(e[a]||0);return r},t.fillGapsInHistoricalData=function(t,e){var r,s,i,n,a,o,c,u,l,d,h;for(null==e&&(e=!0),n=e?25:168,l=new Date,l.setHours(l.getHours()-1),l.setMinutes(0),l.setSeconds(0),h=l.getTime(),r=[],a=o=0,d=n;d>=0?d>o:o>d;a=d>=0?++o:--o)r[a]={time:h,value:-1},h-=36e5;for(c=0,u=t.length;u>c;c++)s=t[c],i=Math.round((l-new Date(s.time))/36e5),r[i]=s;return r},t}()},{}],6:[function(t,e,r){var s,i,n,a,o,c,u=function(t,e){function r(){this.constructor=t}for(var s in e)l.call(e,s)&&(t[s]=e[s]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},l={}.hasOwnProperty;o=t("views/view"),a=t("misc/stats-utils"),i=t("d3/now-horizontal"),s=t("misc/face"),c=t("jade/micro-view"),e.exports=n=function(t){function e(t){this.$node=$(c({stats:a.statTypes})),t.append(this.$node),this.addLiveStats(),this.addFace()}return u(e,t),e.prototype.addLiveStats=function(){return this.liveStats=new i({barWidth:40,barHeight:5,padding:3,totalHeight:29,holder:$(".graphs",this.$node)[0]})},e.prototype.addFace=function(){return this.face=new s($(".face",this.$node),"true")},e.prototype.updateLiveStats=function(t){return this.face.update(a.getOverallTemperature(t)),this.liveStats.update(t)},e}(o)},{"d3/now-horizontal":2,"jade/micro-view":10,"misc/face":4,"misc/stats-utils":5,"views/view":8}],7:[function(t,e,r){var s,i,n,a,o,c,u,l=function(t,e){function r(){this.constructor=t}for(var s in e)d.call(e,s)&&(t[s]=e[s]);return r.prototype=e.prototype,t.prototype=new r,t.__super__=e.prototype,t},d={}.hasOwnProperty;c=t("views/view"),a=t("misc/stats-utils"),n=t("d3/now-horizontal"),i=t("d3/historical-small"),s=t("misc/face"),u=t("jade/strip-view"),e.exports=o=function(t){function e(t){this.$node=$(u({stats:a.statTypes})),t.append(this.$node),this.addHistoricStats(),this.addLiveStats(),this.addFace()}return l(e,t),e.prototype.addHistoricStats=function(){return this.historicStats=new i($(".historic",this.$node)[0])},e.prototype.addLiveStats=function(){return this.liveStats=new n({barWidth:50,barHeight:5,padding:4,totalHeight:32,holder:$(".graphs",this.$node)[0]})},e.prototype.addFace=function(){return this.face=new s($(".face",this.$node),"true")},e.prototype.updateLiveStats=function(t){return this.face.update(a.getOverallTemperature(t)),this.liveStats.update(t)},e.prototype.updateHistoricStats=function(t,e){var r,s;return r={},s=a.get24hrRangeStartingLastHour(),e=a.fillGapsInHistoricalData(e),r[t]=a.normalizeHistoricalData(e,s),this.historicStats.update(r)},e}(c)},{"d3/historical-small":1,"d3/now-horizontal":2,"jade/strip-view":11,"misc/face":4,"misc/stats-utils":5,"views/view":8}],8:[function(t,e,r){var s;e.exports=s=function(){function t(){}return t}()},{}],9:[function(t,e,r){e.exports=function(t){var e=[],r=t||{};return function(t,r){e.push('<div class="faceholder"><img'+jade.attr("scalable",""+t,!0,!1)+jade.attr("data-src","face-"+r,!0,!1)+' class="shadow-icon"/></div>')}.call(this,"scalable"in r?r.scalable:"undefined"!=typeof scalable?scalable:void 0,"temperature"in r?r.temperature:"undefined"!=typeof temperature?temperature:void 0),e.join("")}},{}],10:[function(t,e,r){e.exports=function(t){var e,r=[],s=t||{};return function(t,s){r.push('<div class="micro-view"><div class="labels">'),function(){var s=t;if("number"==typeof s.length)for(var i=0,n=s.length;n>i;i++){var a=s[i];r.push('<div class="stat">'+jade.escape(null==(e=a.nickname)?"":e)+"</div>")}else{var n=0;for(var i in s){n++;var a=s[i];r.push('<div class="stat">'+jade.escape(null==(e=a.nickname)?"":e)+"</div>")}}}.call(this),r.push('</div><div class="graphs"></div><div class="face"></div></div>')}.call(this,"stats"in s?s.stats:"undefined"!=typeof stats?stats:void 0,"undefined"in s?s.undefined:void 0),r.join("")}},{}],11:[function(t,e,r){e.exports=function(t){var e,r=[],s=t||{};return function(t,s){r.push('<div class="strip-view"><div class="labels">'),function(){var s=t;if("number"==typeof s.length)for(var i=0,n=s.length;n>i;i++){var a=s[i];r.push('<div class="stat">'+jade.escape(null==(e=a.nickname)?"":e)+"</div>")}else{var n=0;for(var i in s){n++;var a=s[i];r.push('<div class="stat">'+jade.escape(null==(e=a.nickname)?"":e)+"</div>")}}}.call(this),r.push('</div><div class="historic"></div><div class="graphs"></div><div class="percentages"></div><div class="face"></div></div>')}.call(this,"stats"in s?s.stats:"undefined"!=typeof stats?stats:void 0,"undefined"in s?s.undefined:void 0),r.join("")}},{}]},{},[3]);