var pxSvgIconString=pxSvgIconString||"";pxSvgIconString+='<g id="face-cool" data-size="22x22" class="hourly-stats-svg-svg ">	<g>		<circle class="st0" cx="10.533" cy="10.533" r="10.533"/></g>	<path class="st1" d="M3.856,13.935c1.242,2.43,3.762,4.097,6.678,4.097s5.436-1.667,6.676-4.097"/><circle class="st2" cx="17.615" cy="7.437" r="1.273"/><circle class="st2" cx="3.416" cy="7.437" r="1.273"/></g><g id="face-warm" data-size="22x22" class="hourly-stats-svg-svg ">	<g>		<circle class="st3" cx="10.533" cy="10.533" r="10.533"/></g>	<line class="st1" x1="5.024" y1="15.286" x2="16.091" y2="15.286"/><circle class="st2" cx="17.614" cy="7.437" r="1.273"/><circle class="st2" cx="3.416" cy="7.437" r="1.273"/></g><g id="face-hot" data-size="22x22" class="hourly-stats-svg-svg ">	<g>		<circle class="st4" cx="10.533" cy="10.533" r="10.533"/></g>	<path class="st1" d="M3.856,16.032c1.242-2.43,3.762-4.097,6.678-4.097s5.436,1.667,6.676,4.097"/><circle class="st2" cx="17.615" cy="7.437" r="1.273"/><circle class="st2" cx="3.416" cy="7.437" r="1.273"/></g>';var pxSvgIconString=pxSvgIconString||"";pxSvgIconString+="",function t(e,i,s){function r(n,o){if(!i[n]){if(!e[n]){var c="function"==typeof require&&require;if(!o&&c)return c(n,!0);if(a)return a(n,!0);var u=new Error("Cannot find module '"+n+"'");throw u.code="MODULE_NOT_FOUND",u}var d=i[n]={exports:{}};e[n][0].call(d.exports,function(t){var i=e[n][1][t];return r(i?i:t)},d,d.exports,t,e,i,s)}return i[n].exports}for(var a="function"==typeof require&&require,n=0;n<s.length;n++)r(s[n]);return r}({1:[function(t,e,i){var s,r;r=t("misc/stats-utils"),e.exports=s=function(){function t(t,e,i,s){var r;this.height=e,this.vertPadding=i,this.horizPadding=null!=s?s:8,r=4,this.totalHeight=this.height*r+this.vertPadding*(r-1),this.svg=d3.select(t).append("svg").attr({width:200,height:this.totalHeight,"class":"historicsvg small"})}return t.prototype.update=function(t,e){var i,s,a,n,o,c;s=[],n={};for(o in t)c=t[o],s.push({metric:o,val:c,index:e[o].index}),n[o]=s.length-1;return a=this.svg.selectAll(".small").data(s,function(t){return t.metric}).enter().append("g").attr({transform:function(t){return function(e,i){return"translate(0, "+e.index*(t.height+t.vertPadding)+")"}}(this)}),i=a.selectAll("rect").data(function(t){return t.val}),i.enter().append("rect").attr({width:this.height,height:this.height,x:function(t){return function(e,i){return i*t.horizPadding}}(this)}),i.attr({"class":function(t){return function(t,e,i){return r.getTemperature(t,s[i].metric)}}(this)})},t}()},{"misc/stats-utils":5}],2:[function(t,e,i){var s,r;r=t("misc/stats-utils"),e.exports=s=function(){function t(t){t.padding||(t.padding=3),t.totalHeight||(t.totalHeight=30),t.cssClass||(t.cssClass=""),this.width=t.barWidth,this.height=t.barHeight,this.padding=t.padding,this.svg=d3.select(t.holder).append("svg").attr({width:t.barWidth,height:t.totalHeight,"class":"livesvg "+t.cssClass})}return t.prototype.update=function(t){var e,i,s,a,n;a=this,e=[];for(s in t)n=t[s],null==n&&(n=-1),e.push({metric:s,val:n});return i=this.svg.selectAll("g").data(e),i.enter().append("g").attr({transform:function(t,e){return"translate(0,"+e*(a.height+a.padding)+")"}}).each(function(t,e){return this.trackWidth=a.width,this.trackHeight=a.height,d3.select(this).append("svg:rect").attr({width:this.trackWidth,height:this.trackHeight,"class":"bg"}),d3.select(this).append("svg:rect").attr({width:this.trackWidth,height:this.trackHeight,id:"colored"})}),i.each(function(t,e){var i,s,a;return s=r.getTemperature(t.val,t.metric),a=-1===t.val?0:t.val<.05?.05:t.val<1?t.val.toFixed(4):1,i=d3.select(this).select("#colored"),i.transition().duration(800).attr({width:this.trackWidth*a,"class":s})})},t}()},{"misc/stats-utils":5}],3:[function(t,e,i){var s,r,a,n;a=t("misc/stats-utils"),r=t("views/micro-view"),n=t("views/strip-view"),s=function(){function t(e,i,s,r){var a,n,o,c,u;for(this.$el=e,this.viewKind=i,this.id=s,null==r&&(r=["cpu","ram","swap","disk"]),this.statTypes={},a=n=0,o=r.length;o>n;a=++n)u=r[a],this.statTypes[u]={index:a,nickname:t[u].nickname,name:t[u].name};c=new pxicons.ShadowIcons}return t.prototype.build=function(){return this.setState(this.viewKind)},t.prototype.updateLiveStats=function(t){return this.component.updateLiveStats(t)},t.prototype.updateHistoricStat=function(t,e){return this.component.updateHistoricStat(t,e,this.statTypes)},t.prototype.setState=function(t){switch(t){case"micro":return this.component=new r(this.$el,this.id,this.statTypes);case"strip":return this.component=new n(this.$el,this.id,this.statTypes)}},t.micro="micro",t.strip="strip",t.cpu={nickname:"CPU",name:"CPU Used"},t.ram={nickname:"RAM",name:"RAM Used"},t.swap={nickname:"SWAP",name:"Swap Used"},t.disk={nickname:"DISK",name:"Disk Used"},t}(),window.nanobox||(window.nanobox={}),nanobox.HourlyStats=s},{"misc/stats-utils":5,"views/micro-view":6,"views/strip-view":7}],4:[function(t,e,i){var s,r;r=t("jade/face"),e.exports=s=function(){function t(t,e){this.$el=t,this.scalable=e}return t.prototype.update=function(t){var e;if(this.temperature!==t)return this.temperature=t,this.$el.empty(),e=$(r({temperature:t,scalable:this.scalable})),this.$el.append(e),shadowIconsInstance.svgReplaceWithString(pxSvgIconString,e)},t}()},{"jade/face":9}],5:[function(t,e,i){var s,r=[].indexOf||function(t){for(var e=0,i=this.length;i>e;e++)if(e in this&&this[e]===t)return e;return-1};e.exports=s=function(){function t(){}return t.setThresholds=function(e){return null==e&&(e={}),t.thresholds=e},t.setTypes=function(e){return null==e&&(e=[]),t.statTypes=e},t.getIndexOfMetric=function(e){var i,s,r,a,n;for(a=t.statTypes,i=s=0,r=a.length;r>s;i=++s)if(n=a[i],e===n.id)return i;return-1},t.getTemperature=function(t,e){return 0>t?"sleep":.75>t?"cool":.9>t?"warm":"hot"},t.getOverallTemperature=function(t){var e,i,s,a,n,o,c,u;e=[];for(s in t)u=t[s],"swap"!==s&&(isNaN(u)||e.push(this.getTemperature(u,s)));if(!e.length)return null;for(n="sleep",o=["cool","warm","hot"],i=0,a=o.length;a>i;i++)c=o[i],r.call(e,c)>=0&&(n=c);return n},t.getTimeArray=function(t,e){var i,s,r,a;for(null==e&&(e=25),a=[],i=s=0,r=e;r>=0?r>s:s>r;i=r>=0?++s:--s)a.unshift(this.getTimeObject(t--)),-1===t&&(t=23);return a},t.getTimeObject=function(t){switch(!1){case 0!==t:return{hour:12,period:"am",military:t};case!(12>t):return{hour:t,period:"am",military:t};case 12!==t:return{hour:12,period:"pm",military:t};case!(t>12):return{hour:t-12,period:"pm",military:t}}},t.padNumber=function(t,e){var i;for(i=""+t;i.length<e;)i="0"+i;return i},t.getTimeStampsFromPercentage=function(t){var e,i,s;return t=1-t,s=this.getLastWholeHour(),i=s.setHours(s.getHours()-Math.round(144*t)),e=s.setHours(s.getHours()-24),[e,i]},t.get24hrRangeStartingLastHour=function(){return this.getTimeStampsFromPercentage(1)},t.getLastWholeHour=function(){var t;return t=new Date,t.setHours(t.getHours()-1),t.setMinutes(0),t.setSeconds(0),t.setMilliseconds(0),t},t.getNextHour=function(t){var e;return e=t+1,e>12?e-12:e},t.normalizeHistoricalData=function(t,e){var i,s,r,a,n,o,c,u,d,l,h,p;for(u=new Date,u.setHours(u.getHours()-1),u.setMinutes(0),u.setSeconds(0),n=Math.round((u-new Date(e[0]))/36e5),a=Math.round((u-new Date(e[1]))/36e5),h=n,r=a,i=[],o=c=d=r,l=h;l>=c;o=c+=1)null!=t[o]&&(s=t[o],p=new Date(s.time).setMinutes(0),i[h-o]=s.value);return i},t.normalizeHourlyData=function(e){var i,s,r,a,n,o,c,u;for(i=[],s=r=0;24>r;s=++r)for(u=[0,15,30,45],a=0,o=u.length;o>a;a++)c=u[a],n=t.padNumber(s,2)+":"+t.padNumber(c,2),i.push(e[n]||0);return i},t.fillGapsInHistoricalData=function(t,e){var i,s,r,a,n,o,c,u,d,l,h;for(null==e&&(e=!0),a=e?25:168,d=new Date,d.setHours(d.getHours()-1),d.setMinutes(0),d.setSeconds(0),h=d.getTime(),i=[],n=o=0,l=a;l>=0?l>o:o>l;n=l>=0?++o:--o)i[n]={time:h,value:-1},h-=36e5;for(c=0,u=t.length;u>c;c++)s=t[c],r=Math.round((d-new Date(s.time))/36e5),i[r]=s;return i},t}()},{}],6:[function(t,e,i){var s,r,a,n,o,c,u=function(t,e){return function(){return t.apply(e,arguments)}},d=function(t,e){function i(){this.constructor=t}for(var s in e)l.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},l={}.hasOwnProperty;o=t("views/view"),n=t("misc/stats-utils"),r=t("d3/now-horizontal"),s=t("misc/face"),c=t("jade/micro-view"),e.exports=a=function(t){function e(t,e,i){this.updateLiveStats=u(this.updateLiveStats,this),this.$node=$(c({stats:i})),t.append(this.$node),this.addLiveStats(),this.addFace(),this.subscribeToStatData(e)}return d(e,t),e.prototype.addLiveStats=function(){return this.liveStats=new r({barWidth:40,barHeight:5,padding:3,totalHeight:29,holder:$(".graphs",this.$node)[0]})},e.prototype.addFace=function(){return this.face=new s($(".face",this.$node),"true")},e.prototype.updateLiveStats=function(t){return this.face.update(n.getOverallTemperature(t)),this.liveStats.update(t)},e.prototype.subscribeToStatData=function(t){return PubSub.publish("STATS.SUBSCRIBE.LIVE",{statProviderId:t,callback:this.updateLiveStats,liveStats:["ram","cpu","swap","disk"]})},e}(o)},{"d3/now-horizontal":2,"jade/micro-view":10,"misc/face":4,"misc/stats-utils":5,"views/view":8}],7:[function(t,e,i){var s,r,a,n,o,c,u,d,l=function(t,e){return function(){return t.apply(e,arguments)}},h=function(t,e){function i(){this.constructor=t}for(var s in e)p.call(e,s)&&(t[s]=e[s]);return i.prototype=e.prototype,t.prototype=new i,t.__super__=e.prototype,t},p={}.hasOwnProperty;c=t("views/view"),n=t("misc/stats-utils"),a=t("d3/now-horizontal"),r=t("d3/historical-small"),s=t("misc/face"),d=t("jade/strip-view"),u=t("jade/percentages"),e.exports=o=function(t){function e(t,e,i){var s,r;this.statTypes=i,this.updateHistoricStat=l(this.updateHistoricStat,this),this.updateLiveStats=l(this.updateLiveStats,this),this.$node=$(d({stats:this.statTypes})),this.$percentages=$(".percentages",this.$node),t.append(this.$node),s=5,r=5,this.addHistoricStats(s,r),this.addLiveStats(s,r),this.addFace(),this.subscribeToStatData(e)}return h(e,t),e.prototype.addHistoricStats=function(t,e){return this.historicStats=new r($(".historic",this.$node)[0],t,e)},e.prototype.addLiveStats=function(t,e){var i;return i={barWidth:50,barHeight:t,padding:e,totalHeight:4*t+3*e,holder:$(".graphs",this.$node)[0]},this.liveStats=new a(i)},e.prototype.addFace=function(){return this.face=new s($(".face",this.$node),"true")},e.prototype.updateLiveStats=function(t){return this.face.update(n.getOverallTemperature(t)),this.liveStats.update(t),this.updateLivePercentages(t)},e.prototype.updateHistoricStat=function(t,e){var i,s;return i={},s=n.get24hrRangeStartingLastHour(),e=n.fillGapsInHistoricalData(e),i[t]=n.normalizeHistoricalData(e,s),this.historicStats.update(i,this.statTypes)},e.prototype.updateLivePercentages=function(t){var e,i,s;e=[];for(i in t)s=t[i],e.push(Math.round(100*s));return this.$percentages.empty(),this.$percentages.append($(u({percentages:e})))},e.prototype.subscribeToStatData=function(t){var e,i,s,r;e=[],s=this.statTypes;for(i in s)r=s[i],e.push(i);return PubSub.publish("STATS.SUBSCRIBE.LIVE",{statProviderId:t,callback:this.updateLiveStats,liveStats:e,historicStats:e}),PubSub.publish("STATS.SUBSCRIBE.HISTORIC",{statProviderId:t,callback:this.updateHistoricStat,liveStats:e,historicStats:e})},e}(c)},{"d3/historical-small":1,"d3/now-horizontal":2,"jade/percentages":11,"jade/strip-view":12,"misc/face":4,"misc/stats-utils":5,"views/view":8}],8:[function(t,e,i){var s;e.exports=s=function(){function t(){}return t}()},{}],9:[function(t,e,i){e.exports=function(t){var e=[],i=t||{};return function(t,i){e.push('<div class="faceholder"><img'+jade.attr("scalable",""+t,!0,!1)+jade.attr("data-src","face-"+i,!0,!1)+' class="shadow-icon"/></div>')}.call(this,"scalable"in i?i.scalable:"undefined"!=typeof scalable?scalable:void 0,"temperature"in i?i.temperature:"undefined"!=typeof temperature?temperature:void 0),e.join("")}},{}],10:[function(t,e,i){e.exports=function(t){var e,i=[],s=t||{};return function(t,s){i.push('<div class="micro-view"><div class="labels">'),function(){var s=t;if("number"==typeof s.length)for(var r=0,a=s.length;a>r;r++){var n=s[r];i.push('<div class="stat">'+jade.escape(null==(e=n.nickname)?"":e)+"</div>")}else{var a=0;for(var r in s){a++;var n=s[r];i.push('<div class="stat">'+jade.escape(null==(e=n.nickname)?"":e)+"</div>")}}}.call(this),i.push('</div><div class="graphs"></div><div class="face"></div></div>')}.call(this,"stats"in s?s.stats:"undefined"!=typeof stats?stats:void 0,"undefined"in s?s.undefined:void 0),i.join("")}},{}],11:[function(t,e,i){e.exports=function(t){var e,i=[],s=t||{};return function(t,s){(function(){var s=t;if("number"==typeof s.length)for(var r=0,a=s.length;a>r;r++){var n=s[r];i.push('<div class="val">'+jade.escape(null==(e=n)?"":e)+"%</div>")}else{var a=0;for(var r in s){a++;var n=s[r];i.push('<div class="val">'+jade.escape(null==(e=n)?"":e)+"%</div>")}}}).call(this)}.call(this,"percentages"in s?s.percentages:"undefined"!=typeof percentages?percentages:void 0,"undefined"in s?s.undefined:void 0),i.join("")}},{}],12:[function(t,e,i){e.exports=function(t){var e,i=[],s=t||{};return function(t,s){i.push('<div class="strip-view"><div class="labels">'),function(){var s=t;if("number"==typeof s.length)for(var r=0,a=s.length;a>r;r++){var n=s[r];i.push('<div class="stat">'+jade.escape(null==(e=n.nickname)?"":e)+"</div>")}else{var a=0;for(var r in s){a++;var n=s[r];i.push('<div class="stat">'+jade.escape(null==(e=n.nickname)?"":e)+"</div>")}}}.call(this),i.push('</div><div class="historic"></div><div class="divider"></div><div class="graphs"></div><div class="percentages"></div><div class="face"></div></div>')}.call(this,"stats"in s?s.stats:"undefined"!=typeof stats?stats:void 0,"undefined"in s?s.undefined:void 0),i.join("")}},{}]},{},[3]);